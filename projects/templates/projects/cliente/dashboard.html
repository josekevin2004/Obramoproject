{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Obramo - Dashboard </title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{% static 'projects/css/dashboard.css' %}">



</head>

<body class="bg-gray-50">
        <script>
            window.userName = "{{ request.user.first_name|default:request.user.username }}";
            window.userGender = "{{ request.user.genero|default:'M' }}";
        </script>
    {% include 'partials/nav.html' %}

    <main class="flex-1 p-6">

        <div class="mb-8">
            <h1 id="welcome-user" class="text-3xl font-bold text-gray-900 mb-2"></h1>
        <script>
            function showWelcome() {
                if (window.userName) {
                    let welcome = 'Bem-vindo';
                    if (window.userGender && window.userGender.toUpperCase() === 'F') {
                        welcome = 'Bem-vinda';
                    }
                    const welcomeEl = document.getElementById('welcome-user');
                    if (welcomeEl) {
                        welcomeEl.textContent = `${welcome}, ${window.userName}!`;
                    }
                }
            }
            document.addEventListener('DOMContentLoaded', showWelcome);
        </script>
            <p class="text-gray-600">Aqui está o resumo dos seus projetos e atividades recentes.</p>
        </div>

        <!-- Stats Cards -->




        <!-- Projetos Ativos (clicável) -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">

            <!-- Projetos Ativos -->
            <a href="{% url 'meusprojetos' %}" class="block">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Projetos Ativos</p>
                            <p class="text-3xl font-bold text-gray-900">4</p>
                        </div>
                        <div class="p-3 bg-blue-500 bg-opacity-10 rounded-lg">
                            <i class="fas fa-project-diagram text-blue-600 text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4">
                        <span class="text-green-600 text-sm font-medium">+2 este mês</span>
                    </div>
                </div>
            </a>

            <!-- Investimento Total -->
            <a href="{% url 'pagamento' %}" class="block">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Investimento Total</p>
                            <p class="text-3xl font-bold text-gray-900">R$ 24.700</p>
                        </div>
                        <div class="p-3 bg-green-500 bg-opacity-10 rounded-lg">
                            <i class="fas fa-money-bill-wave text-green-600 text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4">
                        <span class="text-green-600 text-sm font-medium">R$ 8.200 este mês</span>
                    </div>
                </div>
            </a>

            <!-- Profissionais -->
            <a href="{% url 'profissionais' %}" class="block">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Profissionais</p>
                            <p class="text-3xl font-bold text-gray-900">6</p>
                        </div>
                        <div class="p-3 bg-purple-500 bg-opacity-10 rounded-lg">
                            <i class="fas fa-users text-purple-600 text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4">
                        <span class="text-green-600 text-sm font-medium">Todos ativos</span>
                    </div>
                </div>
            </a>

            <!-- Avaliação Média -->
            <a href="{% url 'avaliacao' %}" class="block">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Avaliação Média</p>
                            <p class="text-3xl font-bold text-gray-900">4.8</p>
                        </div>
                        <div class="p-3 bg-yellow-500 bg-opacity-10 rounded-lg">
                            <i class="fas fa-star text-yellow-600 text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4">
                        <div class="flex text-yellow-500">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
            </a>

        </div>


        <!-- Main Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Projects Section -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Active Projects -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-900">Projetos em Andamento</h2>
                            <button class="text-blue-600 hover:text-blue-700 font-medium">Ver todos</button>
                        </div>
                    </div>

                    <div class="p-6 space-y-4">
                        <!-- Project 1 -->
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="flex items-start justify-between mb-3">
                                <div>
                                    <h3 class="font-semibold text-gray-900">E-commerce App</h3>
                                    <p class="text-sm text-gray-600">Plataforma completa de e-commerce com
                                        integração de pagamentos</p>
                                </div>
                                <span class="status-badge bg-blue-100 text-blue-800">Em Andamento</span>
                            </div>

                            <div class="flex items-center space-x-4 mb-3">
                                <div class="flex items-center space-x-2">
                                    <div
                                        class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-semibold">
                                        R
                                    </div>
                                    <span class="text-sm text-gray-700">Ricardo Silva</span>
                                </div>
                                <div class="text-sm text-gray-500">Prazo: 15 dias</div>
                                <div class="text-sm font-semibold text-gray-900">R$ 8.200</div>
                            </div>

                            <div class="mb-2">
                                <div class="flex justify-between text-sm text-gray-600 mb-1">
                                    <span>Progresso</span>
                                    <span>45%</span>
                                </div>
                                <div class="project-progress">
                                    <div class="progress-fill bg-blue-500" style="width: 45%"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Project 2 -->
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="flex items-start justify-between mb-3">
                                <div>
                                    <h3 class="font-semibold text-gray-900">Website Corporativo</h3>
                                    <p class="text-sm text-gray-600">Site institucional com design responsivo</p>
                                </div>
                                <span class="status-badge bg-yellow-100 text-yellow-800">Aguardando</span>
                            </div>

                            <div class="flex items-center space-x-4 mb-3">
                                <div class="flex items-center space-x-2">
                                    <div
                                        class="w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold">
                                        J
                                    </div>
                                    <span class="text-sm text-gray-700">Juliana Costa</span>
                                </div>
                                <div class="text-sm text-gray-500">Prazo: 10 dias</div>
                                <div class="text-sm font-semibold text-gray-900">R$ 4.500</div>
                            </div>

                            <div class="mb-2">
                                <div class="flex justify-between text-sm text-gray-600 mb-1">
                                    <span>Progresso</span>
                                    <span>30%</span>
                                </div>
                                <div class="project-progress">
                                    <div class="progress-fill bg-yellow-500" style="width: 30%"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Project 3 -->
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="flex items-start justify-between mb-3">
                                <div>
                                    <h3 class="font-semibold text-gray-900">App Mobile</h3>
                                    <p class="text-sm text-gray-600">Aplicativo móvel para iOS e Android</p>
                                </div>
                                <span class="status-badge bg-green-100 text-green-800">Entregue</span>
                            </div>

                            <div class="flex items-center space-x-4 mb-3">
                                <div class="flex items-center space-x-2">
                                    <div
                                        class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-semibold">
                                        C
                                    </div>
                                    <span class="text-sm text-gray-700">Carlos Santos</span>
                                </div>
                                <div class="text-sm text-gray-500">Concluído</div>
                                <div class="text-sm font-semibold text-gray-900">R$ 12.000</div>
                            </div>

                            <div class="mb-2">
                                <div class="flex justify-between text-sm text-gray-600 mb-1">
                                    <span>Progresso</span>
                                    <span>100%</span>
                                </div>
                                <div class="project-progress">
                                    <div class="progress-fill bg-green-500" style="width: 100%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chart Section -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-900">Investimentos por Categoria</h2>
                    </div>
                    <div class="p-6">
                        <canvas id="investmentChart" style="height: 300px;"></canvas>
                    </div>
                </div>
            </div>

            <!-- Sidebar Content -->
            <div class="space-y-6">
                <!-- Recent Messages -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <h2 class="text-lg font-semibold text-gray-900">Mensagens Recentes</h2>
                    </div>

                    <div class="p-6 space-y-4">
                        <div class="flex items-start space-x-3">
                            <div
                                class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                R
                            </div>
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-medium text-gray-900">Ricardo Silva</p>
                                <p class="text-sm text-gray-600 truncate">Enviou uma atualização do projeto
                                    E-commerce</p>
                                <p class="text-xs text-gray-500">Hoje, 15:30</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-3">
                            <div
                                class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                J
                            </div>
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-medium text-gray-900">Juliana Costa</p>
                                <p class="text-sm text-gray-600 truncate">Nova mensagem sobre o Website Corporativo
                                </p>
                                <p class="text-xs text-gray-500">Ontem, 10:15</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-3">
                            <div
                                class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                C
                            </div>
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-medium text-gray-900">Carlos Santos</p>
                                <p class="text-sm text-gray-600 truncate">Projeto App Mobile foi entregue</p>
                                <p class="text-xs text-gray-500">30/01/2024</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Status -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <h2 class="text-lg font-semibold text-gray-900">Status de Pagamentos</h2>
                    </div>

                    <div class="p-6 space-y-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-900">App Mobile</p>
                                <p class="text-xs text-gray-500">Carlos Santos</p>
                            </div>
                            <div class="text-right">
                                <p class="text-sm font-semibold text-green-600">R$ 12.000</p>
                                <span class="status-badge bg-green-100 text-green-800">Pago</span>
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-900">E-commerce App</p>
                                <p class="text-xs text-gray-500">Ricardo Silva</p>
                            </div>
                            <div class="text-right">
                                <p class="text-sm font-semibold text-yellow-600">R$ 4.100</p>
                                <span class="status-badge bg-yellow-100 text-yellow-800">Pendente</span>
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-900">Website Corp.</p>
                                <p class="text-xs text-gray-500">Juliana Costa</p>
                            </div>
                            <div class="text-right">
                                <p class="text-sm font-semibold text-blue-600">R$ 2.250</p>
                                <span class="status-badge bg-blue-100 text-blue-800">Em Escrow</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Top Professionals -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <h2 class="text-lg font-semibold text-gray-900">Meus Profissionais</h2>
                    </div>

                    <div class="p-6 space-y-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div
                                    class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold">
                                    R
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-gray-900">Ricardo Silva</p>
                                    <div class="flex text-yellow-400 text-xs">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <span class="text-gray-500 ml-1">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <button class="text-blue-600 hover:text-blue-700 text-sm">Ver Perfil</button>
                        </div>

                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div
                                    class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center text-white font-semibold">
                                    J
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-gray-900">Juliana Costa</p>
                                    <div class="flex text-yellow-400 text-xs">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <span class="text-gray-500 ml-1">5.0</span>
                                    </div>
                                </div>
                            </div>
                            <button class="text-blue-600 hover:text-blue-700 text-sm">Ver Perfil</button>
                        </div>

                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div
                                    class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-semibold">
                                    C
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-gray-900">Carlos Santos</p>
                                    <div class="flex text-yellow-400 text-xs">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <span class="text-gray-500 ml-1">4.9</span>
                                    </div>
                                </div>
                            </div>
                            <button class="text-blue-600 hover:text-blue-700 text-sm">Ver Perfil</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="mt-8 bg-white rounded-lg shadow-sm border border-gray-200">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-lg font-semibold text-gray-900">Ações Rápidas</h2>
            </div>

            <div class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <button
                        class="flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                        <i class="fas fa-plus"></i>
                        <span>Novo Projeto</span>
                    </button>

                    <button
                        class="flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">
                        <i class="fas fa-search"></i>
                        <span>Buscar Profissionais</span>
                    </button>

                    <button
                        class="flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">
                        <i class="fas fa-file-invoice"></i>
                        <span>Ver Relatórios</span>
                    </button>

                    <button
                        class="flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">
                        <i class="fas fa-headset"></i>
                        <span>Suporte</span>
                    </button>
                </div>
            </div>
        </div>
    </main>
    </div>
    <script src="{% static 'projects/js/dashboard.js' %}"></script>



</body>

</html>